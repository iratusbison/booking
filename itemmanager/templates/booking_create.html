{% extends "core/dashboard.html" %}

{% block dashboard_content %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Booking</title>
    <style>
        .date-input {
          position: relative;
          display: inline-block;
    }

       .calendar-icon {
         position: absolute;
         top: 50%;
         right: 5px;
         transform: translateY(-50%);
         cursor: pointer;
    }
    /* Dark Mode Styles */
    body {
        background-color: #222;
        color: #fff;
        font-family: Arial, sans-serif;
        padding: 20px;
    }

    h1, h4 {
        color: #fff; /* Set heading text color */
    }

    form {
        max-width: 600px;
        margin: 0 auto;
    }

    label {
        display: block;
        margin-bottom: 5px;
        color: #fff; /* Set label text color */
    }

    input[type="text"],
    input[type="email"],
    input[type="date"],
    select {
        width: 100%;
        padding: 8px;
        border-radius: 5px;
        border: 1px solid #ccc;
        background-color: #ffffff;
        color: #000; /* Set input text color */
        margin-bottom: 10px;
    }

    input[type="submit"] {
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        background-color: #007bff;
        color: #fff;
        cursor: pointer;
    }

    input[type="submit"]:hover {
        background-color: #0056b3;
    }

    /* Checkboxes */
    .checkbox-container {
        display: flex;
        flex-wrap: wrap;
    }

    .checkbox-item {
        margin-right: 20px;
    }
</style>

</head>
<body>
    <h4>Create Booking</h4>
    <form method="POST" action="{% url 'booking_create' %}">
        {% csrf_token %}



        <!-- Select/Unselect All Rooms -->
        <input type="checkbox" id="select-all-rooms">
        <label for="select-all-rooms">Select All</label><br>

        <!-- Room Selection -->
        <label for="rooms">Select Rooms:</label><br>
        <div class="checkbox-container" id="rooms-container">
            {% for room in rooms %}
            <div class="checkbox-item floor-{{ room.floor }}">
                <input type="checkbox" class="room-checkbox" id="room{{ room.id }}" name="rooms" value="{{ room.id }}">
                <label for="room{{ room.id }}">{{ room.name }}</label><br>
            </div>
            {% endfor %}
        </div>

        <!-- User Information -->
        <label for="name">Name:</label><br>
        <input type="text" id="name" name="name"><br>
        <label for="address">Address:</label><br>
        <input type="text" id="address" name="address"><br>
        <label for="phone">Phone:</label><br>
        <input type="text" id="phone" name="phone"><br>
        <label for="aadhar">Aadhar:</label><br>
        <input type="text" id="aadhar" name="aadhar"><br>
        <label for="email">Email:</label><br>
        <input type="email" id="email" name="email"><br>
        <label for="start_date">Start Date:</label>
    <div class="date-input">
        <input type="date" id="start_date" name="start_date" value="{{ start_date|date:'Y-m-d' }}">

    </div>
    <label for="end_date">End Date:</label>
    <div class="date-input">
        <input type="date" id="end_date" name="end_date" value="{{ end_date|date:'Y-m-d' }}">
        <label for="price">Price:</label><br>
        <input type="text" id="price" name="price"><br>

        <!-- Submit Button -->
        <input type="submit" value="Submit">
    </form>
<script>
    // Add this JavaScript function to toggle the calendar
    function toggleCalendar(inputId) {
        document.getElementById(inputId).click();
    }
</script>
    <script>
        // Select/Unselect All Rooms
        const selectAllCheckbox = document.getElementById('select-all-rooms');
        const roomCheckboxes = document.querySelectorAll('.room-checkbox');

        selectAllCheckbox.addEventListener('change', function() {
            roomCheckboxes.forEach(checkbox => {
                checkbox.checked = this.checked;
            });
        });

    </script>
</body>
{% endblock %}
